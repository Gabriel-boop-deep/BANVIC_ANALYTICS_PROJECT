version: 2

models:
  - name: fact_bap_transacoes
    description: Tabela fato de transações financeiras da BanVic, integrando dados de clientes, agências, colaboradores e propostas de crédito.
    columns:
      - name: transacao_sk
        description: Chave substituta única da transação.
        tests: 
          - not_null
          - unique

      - name: cliente_fk
        description: Chave estrangeira da dimensão de cliente.

      - name: agencia_fk
        description: Chave estrangeira da dimensão de agência.

      - name: colaborador_fk
        description: Chave estrangeira da dimensão de colaborador.

      - name: data_fk
        description: Chave estrangeira da dimensão de datas.

      - name: id_transacao
        description: Código da transação.

      - name: id_conta
        description: Número da conta associada.

      - name: data_transacao
        description: Data da transação.

      - name: valor_transacao
        description: Valor da transação realizada.

      - name: saldo_conta
        description: Saldo total da conta no momento da transação.

      - name: saldo_disponivel
        description: Saldo disponível para movimentação.

      - name: data_abertura_conta
        description: Data de abertura da conta.

      - name: data_proposta
        description: Data de criação da proposta de crédito.

      - name: valor_financiamento
        description: Valor total do financiamento proposto.

      - name: valor_entrada
        description: Valor de entrada na proposta.

      - name: valor_prestacao
        description: Valor da prestação mensal.

      - name: taxa_juros_mensal
        description: Taxa de juros mensal aplicada.

      - name: status_proposta
        description: Status atual da proposta de crédito.

      - name: custo_financeiro_estimado
        description: Estimativa de custo financeiro da transação com base na taxa de juros.